{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Build Simulator",
      "type": "shell",
      "command": "bash",
      "args": [
        "-c",
        "cd ${workspaceFolder}/simulator/build && make -j4"
      ],
      "group": {
        "kind": "build",
        "isDefault": false
      },
      "problemMatcher": {
        "base": "$gcc",
        "fileLocation": "absolute"
      },
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "clear": false
      }
    },
    {
      "label": "Configure & Build Simulator",
      "type": "shell",
      "command": "bash",
      "args": [
        "-c",
        "cd ${workspaceFolder}/simulator && rm -rf build && mkdir build && cd build && cmake -DCMAKE_BUILD_TYPE=Debug .. && make -j4"
      ],
      "group": {
        "kind": "build",
        "isDefault": true
      },
      "problemMatcher": {
        "base": "$gcc",
        "fileLocation": "absolute"
      },
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "clear": false
      }
    },
    {
      "label": "Run Simulator",
      "type": "shell",
      "command": "${workspaceFolder}/simulator/build/digi-dash-simulator",
      "group": {
        "kind": "test",
        "isDefault": false
      },
      "presentation": {
        "reveal": "always",
        "panel": "new"
      }
    },
    {
      "label": "Build ESP32",
      "type": "shell",
      "command": "bash",
      "args": [
        "-c",
        "cd ${workspaceFolder} && idf.py build"
      ],
      "group": {
        "kind": "build",
        "isDefault": false
      },
      "problemMatcher": {
        "base": "$gcc",
        "fileLocation": "absolute"
      },
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "clear": false
      }
    }
  ]
}
